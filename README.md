Task TestLink
این پروژه برای افزودن قابلیت مرتب‌سازی و فیلترگذاری تست کیس‌ها در TestLink طراحی شده است. ویژگی‌های جدید شامل مرتب‌سازی تست کیس‌ها بر اساس "اولویت" و "آخرین تاریخ اجرا" است.

توضیحات پروژه
در این پروژه، قابلیت جدیدی به TestLink اضافه شده که به کاربران این امکان را می‌دهد تا تست کیس‌ها را بر اساس اولویت و آخرین تاریخ اجرای آنها مرتب کنند. این ویژگی شامل تغییرات در پایگاه داده، توسعه API در بخش Back-End، و به‌روزرسانی رابط کاربری است.

جزئیات پیاده‌سازی:
افزودن روت API به TestLink:

برای افزودن قابلیت‌های مرتب‌سازی، یک روت جدید به API تست لینک اضافه شده است.
این روت به صورت زیر پیاده‌سازی شده است:
آدرس API: /lib/api/rest/v3/testcase/sorted
از Apikey برای احراز هویت درخواست‌ها استفاده می‌شود.
ایجاد دایرکتوری Controller:

در این دایرکتوری، یک فایل جدید به نام TestCaseSortedController.php اضافه شده است.
متد sort در این کنترلر به API متصل است و فیلترها را دریافت کرده و تست کیس‌ها را با استفاده از QueryBuilder بازیابی می‌کند.
ایجاد دایرکتوری Helper برای Query Builder:

برای بهبود عملکرد و مدیریت بهتر کوئری‌ها، یک دایرکتوری جدید به نام Helper ایجاد شده است.
در این دایرکتوری، کدهای مربوط به QueryBuilder قرار گرفته‌اند که برای ساخت و اجرای کوئری‌ها به‌طور موثر و بهینه استفاده می‌شوند.
اتصال به دیتابیس:

برای تعامل با پایگاه داده، از توابع داخلی تست لینک استفاده شده است.
کوئری‌ها با استفاده از QueryBuilder نوشته شده و سپس توسط توابع دیتابیس خود تست لینک اجرا می‌شوند.
سفارشی‌سازی HTML:

برای نمایش تست کیس‌ها در رابط کاربری، فایل PHP مربوطه پیدا شده است.
کدهای HTML سفارشی با استفاده از Smarty و فایل‌های .tpl به صفحه مربوطه اضافه شده است.
آدرس فایل TPL سفارشی:
gui/templates/tl-classic/testcases/tcSort.tpl
استفاده از Smarty برای نمایش HTML ها:

TestLink برای نمایش HTML‌ها از قالب‌های Smarty استفاده می‌کند. تمام تغییرات رابط کاربری و مرتب‌سازی‌ها با استفاده از این سیستم قالب‌بندی انجام شده است.
کدهای JavaScript برای مرتب‌سازی:

برای اعمال تغییرات دینامیک در رابط کاربری و ارسال درخواست‌های AJAX، کدهای JavaScript به‌طور ویژه‌ای در نظر گرفته شده است.
آدرس فایل‌های JS:
gui/javascript/tcsort
توضیح فایل‌ها
BaseController.js
در این فایل کدهای پایه و قابلیت‌های پایه برای مدیریت تعاملات کاربری نوشته شده است. این فایل به‌طور کلی وظیفه فراهم کردن متدهای عمومی برای مدیریت رویدادها و تعاملات با عناصر HTML را بر عهده دارد. هدف اصلی این فایل این است که عملکردهای مشترک مانند افزودن ایونت‌ها به المنت‌ها و مدیریت آنها به‌صورت یکپارچه و قابل استفاده مجدد در پروژه فراهم شود.

قابلیت‌های پایه در BaseController.js:
افزودن ایونت به المنت‌ها: این فایل شامل متدی برای اضافه کردن ایونت‌ها (مانند click, change, hover و ...) به المنت‌های مختلف در صفحه است. این امکان را فراهم می‌کند تا کدهای مختلف در پروژه نیازی به نوشتن مجدد کدهای ایونت برای هر المنت نداشته باشند.

مدیریت تعاملات عمومی: تمام تعاملات اصلی که می‌خواهید به صورت پایه در چندین کنترلر استفاده شوند (مانند نمایش یا مخفی کردن المنت‌ها، یا تغییر کلاس‌ها) در این فایل قرار داده می‌شوند.

ساختار قابل توسعه: این فایل به‌گونه‌ای طراحی شده است که در صورت نیاز، می‌توانید متدهای جدیدی اضافه کنید که قابلیت‌های بیشتری برای تعامل با صفحه فراهم کنند.

ارث‌بری از BaseController.js در TcSort.js
فایل TcSort.js از فایل BaseController.js ارث‌بری می‌کند تا بتواند از قابلیت‌های پایه آن استفاده کند و در عین حال ویژگی‌های خاص مرتب‌سازی تست کیس‌ها را پیاده‌سازی نماید.

نحوه استفاده از BaseController.js در TcSort.js:
وراثت ویژگی‌ها: TcSort.js تمام متدهایی را که در BaseController.js تعریف شده‌اند، به ارث می‌برد. این بدین معنی است که در TcSort.js نیازی به نوشتن دوباره کدهای عمومی برای مدیریت ایونت‌ها و تعاملات نیست و فقط به توسعه ویژگی‌های خاص این صفحه پرداخته می‌شود.

اضافه کردن ایونت‌ها: در TcSort.js از متدهایی که در BaseController.js برای اضافه کردن ایونت‌ها نوشته شده است، استفاده می‌شود. به این ترتیب، TcSort.js فقط ایونت‌های خاص مربوط به مرتب‌سازی تست کیس‌ها را اضافه کرده و نیازی به نوشتن کدهای مشابه در هر صفحه نخواهد بود.

توسعه قابلیت‌های خاص: ویژگی‌های خاص مانند مرتب‌سازی تست کیس‌ها بر اساس اولویت یا تاریخ آخرین اجرا در TcSort.js پیاده‌سازی می‌شوند، در حالی که مدیریت کلی تعاملات (مانند کلیک روی دکمه‌ها و نمایش داده‌ها) توسط متدهای به ارث رسیده از BaseController.js انجام می‌شود.

ساختار کد در TcSort.js:
در این فایل، ابتدا تمامی متدهای مورد نیاز برای مرتب‌سازی تست کیس‌ها (مثل مرتب‌سازی بر اساس اولویت یا تاریخ) به کمک متدهای موجود در BaseController.js نوشته شده و سپس از ایونت‌ها استفاده می‌شود تا داده‌ها به صورت داینامیک و بدون بارگذاری مجدد صفحه بروزرسانی شوند.


آدرس API
برای استفاده از قابلیت مرتب‌سازی تست کیس‌ها از API زیر می‌توانید استفاده کنید:

آدرس API: /lib/api/rest/v3/testcase/sorted
برای استفاده از این API نیاز به ارسال درخواست با API Key خواهید داشت. یک API Key نمونه به شرح زیر است:

API Key: c8a540fce43725f6ce34f6cc8f991f67